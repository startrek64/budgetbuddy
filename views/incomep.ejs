<!DOCTYPE html>
<html>

<head>
  <title>
    BudgetBuddy
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="stylesheet.css">
  <script src="budgetbuddy.js"></script>
</head>



<header>
  <img src="images/budgetbuddylogo.jpg" class="logo" width="230px">
  <div class="toggle">
    <button onclick="dropdownFunction()" class="dropbtn">Find Page:</button>
    <div id="myDropdown" class="dropdown-content">
      <a href="homepage">Get Started</a>
      <a>Income</a>
      <a href="expenditure">Expenditure</a>
      <a href="report">Reports</a>
      <a href="signout">Sign Out</a>
    </div>
  </div>
  <nav>
    <ul>
      <li><a href="homepage">Get Started</a></li>
      <li><a class="active">Income</a></li>
      <li><a href="expenditure">Expenditure</a></li>

      <li><a href="report">Reports</a></li>
      <li><a href="signout">Sign Out</a></li>
    </ul>
  </nav>
  <div class="clearfix"></div>
</header>

<body>

  <form class="incomeform" id='myForm'>
    <h2>Declare new Income</h2>
    <p>----------------------------------------------------------------- </p>
    <div class="incomeamount">
      <label for="incomeamount">Income amount (in Â£)</label>
      <input type="number" min="0" id='ammount' name='ammount' step=".01">
    </div>
    <br>
    <p>----------------------------------------------------------------- </p>


    <div class="option">
      <input type="radio" class="radio" id="Salary" name="category" value='Salary'>
      <label for="Salary">Salary</label>
    </div>

    <div class="option">
      <input type="radio" class="radio" id="rental" name="category" value="Rental">
      <label for="rental">Rental</label>
    </div>

    <div class="option">
      <input type="radio" class="radio" id="bursary" name="category" value="Bursary">
      <label for="bursary">Bursary</label>
    </div>

    <div class="option">
      <input type="radio" class="radio" id="loan" name="category" value="Loan">
      <label for="loan">Loan</label>
    </div>

    <div class="option">
      <input type="radio" class="radio" id="friend" name="category" value="Friend/Family">
      <label for="friend">Friend/Family</label>
    </div>

    <div class="option">
      <input type="radio" class="radio" id="other" name="category" value="Other">
      <label for="other">Other</label>
    </div>


    <p></p>
    <p></p>
    <br>
    <br>
    <br>
    <br>
    <br>

    <p>----------------------------------------------------------------- </p>
    <input type='date' name='date'></input>
    <br>
    <br>
    <button type="submit" value="submit">Submit</button>
  </form>
  <script src="typedropdown.js"></script>

  <script>
    const myForm = document.getElementById('myForm');

    myForm.addEventListener('submit', function(e) {
      e.preventDefault();

      const formData = new FormData(this);
      const searchParams = new URLSearchParams();

      for (const pair of formData) {
        searchParams.append(pair[0], pair[1])
      }

      fetch('/income', {
        method: 'post',
        body: searchParams

      }).then(function(response) {
        return response.text();
      })



    });
  </script>

</body>

</html>